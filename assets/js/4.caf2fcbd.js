(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{597:function(t,s,a){t.exports=a.p+"assets/img/components.334d6816.png"},598:function(t,s,a){t.exports=a.p+"assets/img/simple-mod.0d61fd56.png"},599:function(t,s,a){t.exports=a.p+"assets/img/reactor-mod1.8452fa8d.png"},600:function(t,s,a){t.exports=a.p+"assets/img/reactor-mod2.dc0feea3.png"},601:function(t,s,a){t.exports=a.p+"assets/img/reactor-mod3.e69f2a59.png"},602:function(t,s,a){t.exports=a.p+"assets/img/image-20191217163813035.b66ec99e.png"},603:function(t,s,a){t.exports=a.p+"assets/img/channel.6bbb9fa3.svg"},604:function(t,s){t.exports="data:image/png;base64,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"},605:function(t,s,a){t.exports=a.p+"assets/img/channelpipeline.1306bf0b.png"},606:function(t,s,a){t.exports=a.p+"assets/img/eventloop.3352b6bd.svg"},607:function(t,s,a){t.exports=a.p+"assets/img/channel-eventloop.d91b9aed.png"},608:function(t,s,a){t.exports=a.p+"assets/img/boostrap.1633b868.png"},609:function(t,s,a){t.exports=a.p+"assets/img/channelhandler.b4ad8559.svg"},666:function(t,s,a){"use strict";a.r(s);var n=a(52),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("Netty 是一款"),n("strong",[t._v("支持异步 API")]),t._v(" 的"),n("strong",[t._v("事件驱动")]),t._v("的网络应用程序框架，支持快速地开发可维护的高性能的面向协议的服务器和客户端。Netty 的底层是对 Java 原生 NIO 的二次封装，功能更加强大。")]),t._v(" "),n("p",[t._v("现如今，我们使用通用的应用程序或者类库来实现互相通讯，但是，有时候一个通用的协议或他的实现并没有很好的满足需求。比如我们无法使用一个通用的 HTTP 服务器来处理大文件、电子邮件以及近实时消息，比如金融信息和多人游戏数据。我们需要一个更底层的通信协议框架来简化自定义通信协议的开发。而这正是 Netty 存在的意义。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(597),alt:""}})]),t._v(" "),n("ul",[n("li",[t._v("支持零拷贝的字节缓存器")]),t._v(" "),n("li",[t._v("统一的异步 I/O API")]),t._v(" "),n("li",[t._v("可扩展的事件处理模型")]),t._v(" "),n("li",[t._v("多种协议支持")]),t._v(" "),n("li",[t._v("多种传输服务支持")])]),t._v(" "),n("blockquote",[n("p",[t._v("Java IO 模型")]),t._v(" "),n("ul",[n("li",[t._v("BIO：同步且阻塞，小明把水壶放到火上，然后在那傻等水开")]),t._v(" "),n("li",[t._v("NIO：同步非阻塞，小明把水壶放到火上，然后去客厅看电视，时不时的去厨房看看水开没有")]),t._v(" "),n("li",[t._v("AIO：异步非阻塞，小明把响水水壶放到火上，去客厅看电视，响了再去处理")])])]),t._v(" "),n("blockquote",[n("p",[t._v("Java 原生 NIO 的缺点：")]),t._v(" "),n("ul",[n("li",[t._v("API 设计不够优秀，Selector、Channel、ByteBuffer")]),t._v(" "),n("li",[t._v("对于底层操作的封装不够，需要关心太多业务之外的代码，比如多线程、重连、半包黏包、网络拥塞等")]),t._v(" "),n("li",[t._v("臭名昭著的 Epoll Bug 即 Selector 空轮询")])])]),t._v(" "),n("h2",{attrs:{id:"线程模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#线程模型"}},[t._v("#")]),t._v(" 线程模型")]),t._v(" "),n("h3",{attrs:{id:"传统阻塞模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#传统阻塞模型"}},[t._v("#")]),t._v(" 传统阻塞模型")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(598)}}),t._v(" "),n("h3",{attrs:{id:"reactor-模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#reactor-模型"}},[t._v("#")]),t._v(" Reactor 模型")]),t._v(" "),n("h4",{attrs:{id:"单-reactor-单线程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#单-reactor-单线程"}},[t._v("#")]),t._v(" 单 Reactor 单线程")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(599)}}),t._v(" "),n("h4",{attrs:{id:"单-reactor-多线程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#单-reactor-多线程"}},[t._v("#")]),t._v(" 单 Reactor 多线程")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(600)}}),t._v(" "),n("h4",{attrs:{id:"主从-reactor-多线程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#主从-reactor-多线程"}},[t._v("#")]),t._v(" 主从 Reactor 多线程")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(601)}}),t._v(" "),n("blockquote",[n("p",[t._v("Reactor 其实就是事件驱动的意思，当有连接请求、读请求、写请求产生时都可以唤醒对应的 Reactor ，并作出处理。")])]),t._v(" "),n("h3",{attrs:{id:"netty-采用的线程模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#netty-采用的线程模型"}},[t._v("#")]),t._v(" Netty 采用的线程模型")]),t._v(" "),n("h2",{attrs:{id:"netty-官方示例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#netty-官方示例"}},[t._v("#")]),t._v(" Netty 官方示例")]),t._v(" "),n("h2",{attrs:{id:"netty-字节缓存器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#netty-字节缓存器"}},[t._v("#")]),t._v(" Netty 字节缓存器")]),t._v(" "),n("p",[t._v("特性：")]),t._v(" "),n("ul",[n("li",[t._v("容量自适应")]),t._v(" "),n("li",[t._v("读写无需切换")]),t._v(" "),n("li",[t._v("链式调用")]),t._v(" "),n("li",[t._v("引入视图概念")]),t._v(" "),n("li",[t._v("支持池化技术")])]),t._v(" "),n("h3",{attrs:{id:"bytebuf"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bytebuf"}},[t._v("#")]),t._v(" ByteBuf")]),t._v(" "),n("p",[t._v("由不同的索引分别控制读访问和写访问的字节数组，可以对缓冲区进行随机访问、读写、索引管理、查找、创建视图、拷贝、属性访问等。")]),t._v(" "),n("ul",[n("li",[t._v("读索引：readerIndex")]),t._v(" "),n("li",[t._v("写索引：writerIndex")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(602),alt:"image-20191217163813035"}})]),t._v(" "),n("h4",{attrs:{id:"堆模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#堆模式"}},[t._v("#")]),t._v(" 堆模式")]),t._v(" "),n("p",[t._v("数据存在 JVM 的堆内存中。")]),t._v(" "),n("ul",[n("li",[t._v("容易分配和释放")]),t._v(" "),n("li",[t._v("可以直接访问其中的字节数据")]),t._v(" "),n("li",[t._v("不利于与本地硬件进行数据传输，需要建立“中间缓冲区”")])]),t._v(" "),n("h4",{attrs:{id:"直接模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#直接模式"}},[t._v("#")]),t._v(" 直接模式")]),t._v(" "),n("p",[t._v("数据存在 JVM 的堆内存之外的本地系统内存中。")]),t._v(" "),n("ul",[n("li",[t._v("不容易分配和释放")]),t._v(" "),n("li",[t._v("不受垃圾回收器的控制")]),t._v(" "),n("li",[t._v("利于与本地硬件进行数据传输，自身就是一个“中间缓冲区”")])]),t._v(" "),n("blockquote",[n("p",[t._v("直接模式，也称为零拷贝模式，是 MMAP （内存映射）的一种应用，即数据不需要再从内核态拷贝到用户态，而是建立一种映射关系，进程通过这个映射直接操纵内核态里的数据。")])]),t._v(" "),n("h4",{attrs:{id:"聚合模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#聚合模式"}},[t._v("#")]),t._v(" 聚合模式")]),t._v(" "),n("p",[t._v("将多个缓冲区表示为单个合并缓冲区的虚拟表示。")]),t._v(" "),n("h3",{attrs:{id:"bytebufholder"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bytebufholder"}},[t._v("#")]),t._v(" ByteBufHolder")]),t._v(" "),n("p",[t._v("相当一个官方标准，内部持有一个或多个 ByteBuf ，用于返回 ByteBuf 对象。")]),t._v(" "),n("h3",{attrs:{id:"bytebufallocator"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bytebufallocator"}},[t._v("#")]),t._v(" ByteBufAllocator")]),t._v(" "),n("p",[t._v("用于分配各种模式的 ByteBuf 。自身通常需要数据通道来产生。")]),t._v(" "),n("ul",[n("li",[t._v("池化实现：PooledByteBufAllocator")]),t._v(" "),n("li",[t._v("非池化实现：UnPooledByteBufAllocator")])]),t._v(" "),n("h3",{attrs:{id:"unpooled"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#unpooled"}},[t._v("#")]),t._v(" UnPooled")]),t._v(" "),n("p",[t._v("提供了静态的辅助方法来创建未池化的 ByteBuf 实例。")]),t._v(" "),n("h3",{attrs:{id:"bytebufutil"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bytebufutil"}},[t._v("#")]),t._v(" ByteBufUtil")]),t._v(" "),n("p",[t._v("ByteBuf 的工具类")]),t._v(" "),n("h2",{attrs:{id:"netty-数据通道"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#netty-数据通道"}},[t._v("#")]),t._v(" Netty 数据通道")]),t._v(" "),n("p",[n("img",{attrs:{src:a(603),alt:""}})]),t._v(" "),n("h3",{attrs:{id:"channel"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#channel"}},[t._v("#")]),t._v(" Channel")]),t._v(" "),n("p",[t._v("代表一个可以进行 I/O 操作（读写连绑）的通道。接口的方法与通道状态、ChannelConfig、I/O操作、ChannelPipeline、EventLoop 等有关。")]),t._v(" "),n("ul",[n("li",[t._v("所有与 I/O 操作相关的方法都是异步的，返回一个 ChannelFuture 对象")]),t._v(" "),n("li",[t._v("内置一个 parent 通道，这取决于通道的创建过程")]),t._v(" "),n("li",[t._v("Channel 只是一个通用标准，实际使用时经常需要向下转型成子类对象，以便调用特有的方法。")])]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(604)}}),t._v(" "),n("h3",{attrs:{id:"channelhandler"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#channelhandler"}},[t._v("#")]),t._v(" ChannelHandler")]),t._v(" "),n("p",[t._v("代表一个通道的处理器，用于对数据执行业务逻辑。")]),t._v(" "),n("p",[t._v("相关行为概述：")]),t._v(" "),n("ul",[n("li",[t._v("ChannelHandler 包含了添加和删除处理器时会回调的方法")]),t._v(" "),n("li",[t._v("ChannelInboundHandler 包含了通道状态改变、数据读取、出现异常时会回调的方法")]),t._v(" "),n("li",[t._v("ChannelOutboundhandler 包含了通道状态改变、数据发送、出现异常时会回调的方法")])]),t._v(" "),n("p",[t._v("Netty 使用引用计数来处理池化的 ByteBuf。所以在完全使用完某个 ByteBuf 后，调整其引用计数是很重要的。")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("channelRead")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReferenceCountUtil")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("release")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelPromise")]),t._v(" promise"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReferenceCountUtil")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("release")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tpromise"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setSuccess")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"channelpipeline-和-channelhandlercontext"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#channelpipeline-和-channelhandlercontext"}},[t._v("#")]),t._v(" ChannelPipeline 和 ChannelHandlerContext")]),t._v(" "),n("p",[t._v("ChannelPipeline 代表多个 handler 组成的一个处理链，抽象称为管道。每一个 Channel 都对应一个 ChannelPipeline 。每当一个 handler 添加进来后都会被包装成一个 ChannelHandlerContext，并加入到 ChannelPipeline 的双向链表中")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(605)}}),t._v(" "),n("blockquote",[n("p",[t._v("有两个特殊的 context 是默认存在的，HEAD、TAIL。所以逻辑上的第一个 handler ，其实是HEAD的下一个，最后一个 handler ，其实是 TAIL 的前一个。")])]),t._v(" "),n("p",[t._v("相关行为概述：")]),t._v(" "),n("ul",[n("li",[t._v("context 和 pipeline 都含有了事件触发后的回调方法，即 Invoker 中的方法")]),t._v(" "),n("li",[t._v("pipeline 还拥有管理 context 节点的相关方法")])]),t._v(" "),n("blockquote",[n("p",[t._v("@Sharable 修饰的 handler 可以被添加到多个 pipeline 中，此时要注意相应的并发问题。")])]),t._v(" "),n("h3",{attrs:{id:"异常处理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#异常处理"}},[t._v("#")]),t._v(" 异常处理")]),t._v(" "),n("ul",[n("li",[t._v("入站时，需要重写入站处理器的异常回调方法，并放到处理链靠后的位置上。")]),t._v(" "),n("li",[t._v("出站时，相关回调方法都会有一个 promise 参数，可以通过它进行异步通知。")])]),t._v(" "),n("h2",{attrs:{id:"netty-事件执行器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#netty-事件执行器"}},[t._v("#")]),t._v(" Netty 事件执行器")]),t._v(" "),n("p",[n("img",{attrs:{src:a(606),alt:""}})]),t._v(" "),n("p",[t._v("相关行为概述：")]),t._v(" "),n("ul",[n("li",[t._v("EventExecutorGroup 负责提供 EventExecutor")]),t._v(" "),n("li",[t._v("EventExecutor 则代表一个事件执行器，其相关方法其实是从 EventExecutorGroup 继承来的")]),t._v(" "),n("li",[t._v("EventLoopGroup 则负责提供 EventLoop")]),t._v(" "),n("li",[t._v("EventLoop 代表一个事件循环，负责接收 Channel 并处理相关事件的发生，其相关方法其实也是从 EventLoopGroup 继承来的")])]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(607)}}),t._v(" "),n("blockquote",[n("p",[t._v("一个 EventLoop 可能被分配给多个 Channel")])]),t._v(" "),n("blockquote",[n("p",[t._v("在具体实现中，一个 EventLoop 将由一个永远不会变的线程驱动，在这个线程里，Channel 所发生的事件和相应的任务都会被这一个线程所执行，避免了代码同步的开销。")]),t._v(" "),n("ul",[n("li",[t._v("事件处理的顺序逻辑有 JDK NIO 实现多路复用")]),t._v(" "),n("li",[t._v("任务处理的顺序逻辑是如果当前线程不是 EventLoop 线程，则在丢到一个任务队列前，会去尝试启动 EventLoop 线程。")])])]),t._v(" "),n("h2",{attrs:{id:"netty-引导器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#netty-引导器"}},[t._v("#")]),t._v(" Netty 引导器")]),t._v(" "),n("p",[t._v("引导器负责对网络应用进行配置并将它运行起来。")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(608)}}),t._v(" "),n("blockquote",[n("p",[t._v("实现 Cloneable 的意义：有时可能会需要创建多个具有类似配置或者完全相同配置的 Channel 。")])]),t._v(" "),n("h3",{attrs:{id:"bootstrap"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bootstrap"}},[t._v("#")]),t._v(" Bootstrap")]),t._v(" "),n("p",[t._v("用于客户端或者使用了无连接协议的应用程序中。")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bootstrap")]),t._v(" bs "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bootstrap")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("group")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("group"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置处理事件的 EventLoopGroup")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("channel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("channelType"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定Channel的实现类,一定要兼容 group")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("handler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("handler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置处理器，用于构建pipeline")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelFuture")]),t._v(" future "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" bs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InetSocketAddress")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("host"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("port"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nfutrue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("channel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("closeFuture")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[n("strong",[t._v("connect 流程")]),t._v("：")]),t._v(" "),n("h3",{attrs:{id:"serverbootstrap"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#serverbootstrap"}},[t._v("#")]),t._v(" ServerBootstrap")]),t._v(" "),n("p",[t._v("用于服务器的应用程序中。")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ServerBootstrap")]),t._v(" bs "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ServerBootstrap")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置处理serverChannel事件和被接收的子channel事件的EventLoopGroup")]),t._v("\nbs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("group")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("bossGroup"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("workGroup"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("channel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("serverChannelType"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定serverChannel的实现类")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("handler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("handler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ServerChannel的ChannelPipeline中的ChannelHandler")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("childHandler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("childHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 子Channel的ChannelPipeline中的ChannelHandler")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelFuture")]),t._v(" future "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" bs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("port"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nfuture"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("channel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("closeFuture")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[n("strong",[t._v("bind 流程")]),t._v("：")]),t._v(" "),n("h2",{attrs:{id:"netty-编解码器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#netty-编解码器"}},[t._v("#")]),t._v(" Netty 编解码器")]),t._v(" "),n("p",[t._v("编码器操作出站数据，属于出站处理器，而解码器处理入站数据，属于入站处理器。")]),t._v(" "),n("h3",{attrs:{id:"解码器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#解码器"}},[t._v("#")]),t._v(" 解码器")]),t._v(" "),n("h4",{attrs:{id:"bytetomessagedecoder"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bytetomessagedecoder"}},[t._v("#")]),t._v(" ByteToMessageDecoder")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("void decode(ChannelHandlerContext ctx, ByteBuf in, List<Object> out)")])]),t._v(" "),n("li",[n("code",[t._v("void decodeLast(ChannelHandlerContext ctx, ByteBuf in, List<Object> out)")])])]),t._v(" "),n("h4",{attrs:{id:"messagetomessagedecoder-i"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#messagetomessagedecoder-i"}},[t._v("#")]),t._v(" MessageToMessageDecoder<I>")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("void decode(ChannelHandlerContext ctx, I msg, List<Object> out)")])])]),t._v(" "),n("h3",{attrs:{id:"编码器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编码器"}},[t._v("#")]),t._v(" 编码器")]),t._v(" "),n("h4",{attrs:{id:"messagetobyteencoder-i"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#messagetobyteencoder-i"}},[t._v("#")]),t._v(" MessageToByteEncoder<I>")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("void encode(ChannelHandlerContext ctx, I msg, ByteBuf out)")])])]),t._v(" "),n("h4",{attrs:{id:"messagetomessageencoder-i"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#messagetomessageencoder-i"}},[t._v("#")]),t._v(" MessageToMessageEncoder<I>")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("encode(ChannelHandlerContext ctx, I msg, List<Object> out)")])])]),t._v(" "),n("h3",{attrs:{id:"编解码器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编解码器"}},[t._v("#")]),t._v(" 编解码器")]),t._v(" "),n("h4",{attrs:{id:"bytetomessagecodec-i"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bytetomessagecodec-i"}},[t._v("#")]),t._v(" ByteToMessageCodec<I>")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("void decode(ChannelHandlerContext ctx, ByteBuf in, List<Object> out)")])]),t._v(" "),n("li",[n("code",[t._v("void decodeLast(ChannelHandlerContext ctx, ByteBuf in, List<Object> out)")])]),t._v(" "),n("li",[n("code",[t._v("void encode(ChannelHandlerContext ctx, I msg, ByteBuf out)")])])]),t._v(" "),n("h4",{attrs:{id:"messagetomessagecodec-inbound-in-outbound-in"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#messagetomessagecodec-inbound-in-outbound-in"}},[t._v("#")]),t._v(" MessageToMessageCodec<INBOUND_IN,OUTBOUND_IN>")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("void encode(ChannelHandlerContext ctx, OUTBOUND_IN msg, List<Object> out)")])]),t._v(" "),n("li",[n("code",[t._v("void decode(ChannelHandlerContext ctx, INBOUND_IN msg, List<Object> out)")])])]),t._v(" "),n("h2",{attrs:{id:"channelhandler-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#channelhandler-2"}},[t._v("#")]),t._v(" ChannelHandler")]),t._v(" "),n("p",[n("img",{attrs:{src:a(609),alt:""}})]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandler")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlerAdded")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlerRemoved")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("abstract")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerAdapter")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isSharable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Class")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" clazz "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getClass")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Boolean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" cache "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InternalThreadLocalMap")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlerSharableCache")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Boolean")]),t._v(" sharable "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cache"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("clazz"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sharable "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            sharable "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" clazz"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isAnnotationPresent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sharable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            cache"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("clazz"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sharable"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" sharable"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"channelinboundhandler"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#channelinboundhandler"}},[t._v("#")]),t._v(" ChannelInboundHandler")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelInboundHandler")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandler")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("channelRegistered")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("channelUnregistered")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("channelActive")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("channelInactive")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("channelRead")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("channelReadComplete")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("userEventTriggered")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" evt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("channelWritabilityChanged")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("exceptionCaught")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Throwable")]),t._v(" cause"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelInboundHandlerAdapter")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("xxx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fireXxx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h4",{attrs:{id:"channelinitializer"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#channelinitializer"}},[t._v("#")]),t._v(" ChannelInitializer")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("abstract")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelInitializer")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("C")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Channel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    \t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelInboundHandlerAdapter")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h4",{attrs:{id:"simplechannelinboundhandler"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#simplechannelinboundhandler"}},[t._v("#")]),t._v(" SimpleChannelInboundHandler")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("abstract")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SimpleChannelInboundHandler")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("I")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelInboundHandlerAdapter")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("channelRead")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" release "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("acceptInboundMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@SuppressWarnings")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unchecked"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("I")]),t._v(" imsg "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("I")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("channelRead0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" imsg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                release "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fireChannelRead")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("autoRelease "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" release"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReferenceCountUtil")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("release")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("abstract")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("channelRead0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("I")]),t._v(" msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"channeloutboundhandler"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#channeloutboundhandler"}},[t._v("#")]),t._v(" ChannelOutboundHandler")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelOutboundHandler")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandler")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SocketAddress")]),t._v(" localAddress"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelPromise")]),t._v(" promise"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n        \t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SocketAddress")]),t._v(" remoteAddress"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SocketAddress")]),t._v(" localAddress"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelPromise")]),t._v(" promise"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("disconnect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelPromise")]),t._v(" promise"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelPromise")]),t._v(" promise"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("deregister")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelPromise")]),t._v(" promise"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("read")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelPromise")]),t._v(" promise"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        \t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("flush")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelOutboundHandlerAdapter")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("xxx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("xxx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"channelduplexhandler"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#channelduplexhandler"}},[t._v("#")]),t._v(" ChannelDuplexHandler")]),t._v(" "),n("h4",{attrs:{id:"combinedchannelduplexhandler"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#combinedchannelduplexhandler"}},[t._v("#")]),t._v(" CombinedChannelDuplexHandler")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CombinedChannelDuplexHandler")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("I")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelInboundHandler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t\t\t\t\t\t\t\t  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("O")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelOutboundHandler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelDuplexHandler")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlerAdded")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("inboundHandler "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IllegalStateException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"init() must be invoked before being added to a "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelPipeline")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSimpleName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n                            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" if "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CombinedChannelDuplexHandler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSimpleName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n                            "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" was constructed with the default constructor."')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        outboundCtx "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DelegatingChannelHandlerContext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" outboundHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        inboundCtx "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DelegatingChannelHandlerContext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" inboundHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@SuppressWarnings")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deprecation"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChannelHandlerContext")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fireExceptionCaught")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Throwable")]),t._v(" cause"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("outboundCtx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("removed"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// We directly delegate to the ChannelOutboundHandler as this may override exceptionCaught(...)")]),t._v("\n                        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// as well")]),t._v("\n                        outboundHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("exceptionCaught")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("outboundCtx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cause"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Throwable")]),t._v(" error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logger"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isDebugEnabled")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                            logger"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                                    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"An exception {}"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n                                    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"was thrown by a user handler\'s exceptionCaught() "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n                                    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"method while handling the following exception:"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThrowableUtil")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stackTraceToString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cause"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logger"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isWarnEnabled")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                            logger"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("warn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                                    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"An exception '{}' [enable DEBUG level for full stacktrace] \"")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n                                    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"was thrown by a user handler\'s exceptionCaught() "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n                                    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"method while handling the following exception:"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cause"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fireExceptionCaught")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cause"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// The inboundCtx and outboundCtx were created and set now it's safe to call removeInboundHandler() and")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// removeOutboundHandler().")]),t._v("\n        handlerAdded "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            inboundHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlerAdded")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("inboundCtx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            outboundHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlerAdded")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("outboundCtx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);