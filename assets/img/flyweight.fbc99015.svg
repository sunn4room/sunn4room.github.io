<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="313px" preserveAspectRatio="none" style="width:332px;height:313px;" version="1.1" viewBox="0 0 332 313" width="332px" zoomAndPan="magnify"><defs><filter height="300%" id="fbrjeez6hionr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class Flyweight--><rect fill="#FEFECE" filter="url(#fbrjeez6hionr)" height="48" id="Flyweight" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="131" y="146"/><ellipse cx="146" cy="162" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M142.5938,156.2813 L142.5938,155.875 L148.9063,155.875 L148.9063,156.2813 L146.375,156.2813 Q146.375,156.2813 146.5234,156.4141 Q146.6719,156.5469 146.6719,156.8125 L146.6719,166.2969 Q146.6719,166.5625 146.8906,166.6953 Q147.1094,166.8281 147.1094,166.8281 L148.9063,166.8281 L148.9063,167.2344 L142.5938,167.2344 L142.5938,166.8281 L144.125,166.8281 Q144.4531,166.8281 144.5859,166.6953 Q144.7188,166.5625 144.7188,166.2969 L144.7188,156.8125 Q144.7188,156.5469 144.5859,156.4141 Q144.4531,156.2813 144.125,156.2813 L142.5938,156.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="51" x="160" y="167.5576">Flyweight</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="132" x2="213" y1="178" y2="178"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="132" x2="213" y1="186" y2="186"/><!--class Flyweight1--><rect fill="#FEFECE" filter="url(#fbrjeez6hionr)" height="48" id="Flyweight1" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="65.5" y="254"/><ellipse cx="80.5" cy="270" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M79.0781,275.3594 Q77.2188,275.3594 76.125,273.9688 Q75.0313,272.5781 75.0313,269.5938 Q75.0313,267.0625 76.1953,265.4063 Q77.3594,263.75 79.3438,263.75 Q80.8125,263.75 81.2813,263.875 Q81.75,264.0781 81.75,264.0781 Q81.75,264.0781 81.75,264.0078 Q81.75,263.9375 82.3594,263.0156 L83.4063,266.6719 L82.0781,267.0781 Q81.6094,265.5313 80.9453,264.8672 Q80.2813,264.2031 79.2188,264.2031 Q78.8281,264.2031 78.0625,265.7344 Q77.2969,267.2656 77.2969,269.5156 Q77.2969,271.9844 77.9609,273.375 Q78.625,274.7656 79.1563,274.7656 Q80.2188,274.7656 80.9766,274 Q81.7344,273.2344 82.0781,271.5781 L83.4063,272.1719 Q83.0781,273.5781 82.1797,274.4688 Q81.2813,275.3594 79.0781,275.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="58" x="94.5" y="275.5576">Flyweight1</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="66.5" x2="154.5" y1="286" y2="286"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="66.5" x2="154.5" y1="294" y2="294"/><!--class Flyweight2--><rect fill="#FEFECE" filter="url(#fbrjeez6hionr)" height="48" id="Flyweight2" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="190.5" y="254"/><ellipse cx="205.5" cy="270" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M204.0781,275.3594 Q202.2188,275.3594 201.125,273.9688 Q200.0313,272.5781 200.0313,269.5938 Q200.0313,267.0625 201.1953,265.4063 Q202.3594,263.75 204.3438,263.75 Q205.8125,263.75 206.2813,263.875 Q206.75,264.0781 206.75,264.0781 Q206.75,264.0781 206.75,264.0078 Q206.75,263.9375 207.3594,263.0156 L208.4063,266.6719 L207.0781,267.0781 Q206.6094,265.5313 205.9453,264.8672 Q205.2813,264.2031 204.2188,264.2031 Q203.8281,264.2031 203.0625,265.7344 Q202.2969,267.2656 202.2969,269.5156 Q202.2969,271.9844 202.9609,273.375 Q203.625,274.7656 204.1563,274.7656 Q205.2188,274.7656 205.9766,274 Q206.7344,273.2344 207.0781,271.5781 L208.4063,272.1719 Q208.0781,273.5781 207.1797,274.4688 Q206.2813,275.3594 204.0781,275.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="58" x="219.5" y="275.5576">Flyweight2</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="191.5" x2="279.5" y1="286" y2="286"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="191.5" x2="279.5" y1="294" y2="294"/><!--class FlyweightFactory--><rect fill="#FEFECE" filter="url(#fbrjeez6hionr)" height="78.0459" id="FlyweightFactory" style="stroke: #A80036; stroke-width: 1.5;" width="159" x="6" y="8"/><ellipse cx="37.65" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M36.2281,29.3594 Q34.3688,29.3594 33.275,27.9688 Q32.1813,26.5781 32.1813,23.5938 Q32.1813,21.0625 33.3453,19.4063 Q34.5094,17.75 36.4938,17.75 Q37.9625,17.75 38.4313,17.875 Q38.9,18.0781 38.9,18.0781 Q38.9,18.0781 38.9,18.0078 Q38.9,17.9375 39.5094,17.0156 L40.5563,20.6719 L39.2281,21.0781 Q38.7594,19.5313 38.0953,18.8672 Q37.4313,18.2031 36.3688,18.2031 Q35.9781,18.2031 35.2125,19.7344 Q34.4469,21.2656 34.4469,23.5156 Q34.4469,25.9844 35.1109,27.375 Q35.775,28.7656 36.3063,28.7656 Q37.3688,28.7656 38.1266,28 Q38.8844,27.2344 39.2281,25.5781 L40.5563,26.1719 Q40.2281,27.5781 39.3297,28.4688 Q38.4313,29.3594 36.2281,29.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="90" x="55.35" y="29.5576">FlyweightFactory</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="164" y1="40" y2="40"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="48"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="26" y="56.606">Map&lt;String,Flyweight&gt; pool</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="164" y1="63.0229" y2="63.0229"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="12" y="79.6289">getFlyweight(String key)</text><!--class Subject--><rect fill="#FEFECE" filter="url(#fbrjeez6hionr)" height="63.0229" id="Subject" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="200" y="15.5"/><ellipse cx="236.6" cy="31.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M235.1781,36.8594 Q233.3188,36.8594 232.225,35.4688 Q231.1313,34.0781 231.1313,31.0938 Q231.1313,28.5625 232.2953,26.9063 Q233.4594,25.25 235.4438,25.25 Q236.9125,25.25 237.3813,25.375 Q237.85,25.5781 237.85,25.5781 Q237.85,25.5781 237.85,25.5078 Q237.85,25.4375 238.4594,24.5156 L239.5063,28.1719 L238.1781,28.5781 Q237.7094,27.0313 237.0453,26.3672 Q236.3813,25.7031 235.3188,25.7031 Q234.9281,25.7031 234.1625,27.2344 Q233.3969,28.7656 233.3969,31.0156 Q233.3969,33.4844 234.0609,34.875 Q234.725,36.2656 235.2563,36.2656 Q236.3188,36.2656 237.0766,35.5 Q237.8344,34.7344 238.1781,33.0781 L239.5063,33.6719 Q239.1781,35.0781 238.2797,35.9688 Q237.3813,36.8594 235.1781,36.8594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="41" x="255.4" y="37.0576">Subject</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="201" x2="320" y1="47.5" y2="47.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="208" y="55.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="220" y="64.106">Flyweight flyweight</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="201" x2="320" y1="70.5229" y2="70.5229"/><!--reverse link Flyweight to Flyweight1--><path d="M148.745,211.6133 C140.419,225.8479 131.355,241.3452 124.141,253.6784 " fill="none" id="Flyweight&lt;-Flyweight1" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="142.907,207.73,159.047,194,154.992,214.7984,142.907,207.73" style="stroke: #A80036; stroke-width: 1.0;"/><!--reverse link Flyweight to Flyweight2--><path d="M196.638,211.6133 C205.098,225.8479 214.309,241.3452 221.639,253.6784 " fill="none" id="Flyweight&lt;-Flyweight2" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="190.371,214.7695,186.17,194,202.406,207.6167,190.371,214.7695" style="stroke: #A80036; stroke-width: 1.0;"/><!--reverse link FlyweightFactory to Flyweight--><path d="M120.803,97.1 C132.891,113.912 145.855,131.942 155.777,145.742 " fill="none" id="FlyweightFactory&lt;-Flyweight" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#FFFFFF" points="113.027,86.285,113.2815,93.4916,120.0316,96.0285,119.7771,88.8219,113.027,86.285" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="109.8563" y="108.8551">n</text><!--reverse link Subject to Flyweight--><path d="M230.499,89.252 C216.783,108.111 201.041,129.756 189.422,145.733 " fill="none" id="Subject&lt;-Flyweight" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#FFFFFF" points="238.294,78.533,231.53,81.0327,231.2359,88.2378,237.9999,85.7381,238.294,78.533" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="226.2331" y="101.3844">1</text><!--reverse link FlyweightFactory to Subject--><path d="M170.281,47 C180.115,47 189.948,47 199.782,47 " fill="none" id="FlyweightFactory&lt;-Subject" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="165.139,47,174.139,51,170.139,47,174.139,43,165.139,47" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
interface Flyweight
class Flyweight1 implements Flyweight
class Flyweight2 implements Flyweight
class FlyweightFactory {
    -Map<String,Flyweight> pool
    getFlyweight(String key)
}
class Subject {
    -Flyweight flyweight
}
Flyweight .down.o "n" FlyweightFactory
Flyweight .down.o "1" Subject
Subject .left.> FlyweightFactory
@enduml

PlantUML version 1.2019.09(Tue Aug 27 00:19:51 CST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_231-b11
Operating System: Windows 10
OS Version: 10.0
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>